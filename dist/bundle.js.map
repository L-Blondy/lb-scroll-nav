{"version":3,"sources":["../index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["import \"./index.css\"\n\nexport default function setScrollNav ( sections, sectionContainer ) {\n\tconst refs = {};\n\tlet maxElemRef;\n\n\tdocument.addEventListener( \"click\", e => {\n\t\tconst href = e.target.getAttribute( \"href\" )\n\n\t\tif ( href && e.target.getAttribute( \"href\" )[ 0 ] === \"#\" ) {\n\t\t\te.preventDefault()\n\t\t\tconst target = document.querySelector( href )\n\t\t\ttarget.scrollIntoView(\n\t\t\t\t{ behavior: \"smooth\" }\n\t\t\t)\n\t\t}\n\t} )\n\n\tfunction callback ( entries ) {\n\t\tentries.forEach( entry => {\n\t\t\tconst activeLinks = document.querySelectorAll( \".active\" );\n\t\t\tactiveLinks && [].forEach.call( activeLinks, link => link.classList.remove( \"active\" ) )\n\t\t\trefs[ entry.target.id ] = entry.intersectionRatio;\n\t\t\tlet maxRatio = 0;\n\n\t\t\tfor ( let ref in refs ) {\n\t\t\t\tif ( refs[ ref ] > maxRatio ) {\n\t\t\t\t\tmaxRatio = refs[ ref ]\n\t\t\t\t\tmaxElemRef = ref\n\t\t\t\t}\n\t\t\t\tif ( refs[ ref ] === 1 ) {\n\t\t\t\t\tconst activeLink = document.querySelector( \".active\" )\n\t\t\t\t\tactiveLink && activeLink.classList.remove( \"active\" )\n\t\t\t\t\tconst link = document.querySelector( `[href=\"#${ ref }\"]` )\n\t\t\t\t\tif ( !link.classList.contains( \"active\" ) ) {\n\t\t\t\t\t\tlink.classList.add( \"active\" )\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( maxRatio < 1 ) {\n\t\t\t\tconst link = document.querySelector( `[href=\"#${ maxElemRef }\"]` )\n\t\t\t\tif ( !link.classList.contains( \"active\" ) ) {\n\t\t\t\t\tlink.classList.add( \"active\" )\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t}\n\ttry {\n\t\tconst options = {\n\t\t\troot: sectionContainer,\n\t\t\trootMargin: \"-50px 0px -50px 0px\",\n\t\t\tthreshold: [ 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1 ]\n\t\t}\n\n\t\tconst observer = new IntersectionObserver( callback, options );\n\t\t[].forEach.call( sections, section => {\n\t\t\tobserver.observe( section )\n\t\t} )\n\t}\n\tcatch ( error ) {\n\t\tconsole.log( \"The IntersectionObserver API might not be supported by the browser\" )\n\t}\n}\n"]}